import{r as g,w as ce,o as pe,q as ge,c as S,a as c,b as s,t as m,d as l,e as a,g as w,f as p,h as d,u as n,F as A,i as U,j as f,l as K,m as x,p as F,v as C,n as fe}from"./index-ChopVu3u.js";import{_ as me,a as be}from"./AdminLayout-ybODCljC.js";import{_ as ve,a as ye,b as xe,c as O,d as y,e as ke,f as v,m as we,g as _e,h as he,i as $e,j as Se,k as Ae,l as Ce}from"./PaginationPrevious.vue_vue_type_script_setup_true_lang-g_L1naUw.js";import{_ as z,a as De,b as je}from"./DeleteConfirmDialog-LYZLR5dO.js";import{g as Q,a as W,p as Ve,d as Le}from"./http-VbNDWnN5.js";import{g as Ue}from"./prompts-DVSTLn-0.js";import{g as ze}from"./pool-BsKMXdd0.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Ie=b=>Q("/tasks/simple/",{params:b}),Pe=b=>Q(`/tasks/simple/${b}/`),Te=b=>W("/tasks/simple/",b),Be=(b,D)=>Ve(`/tasks/simple/${b}/`,D),Fe=b=>Le(`/tasks/simple/${b}/`),Me=(b,D)=>W(`/tasks/simple/${b}/run/`,D),Ne={class:"space-y-5 sm:space-y-6"},Ee={class:"mb-4 flex items-center justify-between"},Re={class:"flex gap-2"},Oe={class:"flex items-center justify-end gap-2"},qe=["onClick"],Xe={key:0,class:"mt-4"},Ge={class:"relative z-10 w-full max-w-2xl rounded-xl bg-white p-6 shadow-lg dark:bg-gray-900"},He={class:"mb-4 text-lg font-semibold"},Je={class:"grid grid-cols-2 gap-4"},Ke={class:"grid grid-cols-2 gap-4"},Qe={class:"relative account-dropdown"},We={key:0,class:"text-gray-400"},Ye={key:1,class:"flex flex-wrap gap-1"},Ze={class:"px-1"},et=["onClick"],tt={class:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none"},at={key:0,class:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg shadow-lg max-h-60 overflow-y-auto"},rt={key:0,class:"px-4 py-2 text-sm text-gray-500 dark:text-gray-400"},ot={key:1},st=["onClick"],lt={key:0,class:"text-blue-500"},nt=["value"],dt={key:0},it={key:1},ut={key:2},ct={class:"flex justify-end gap-3 pt-2"},pt={key:0,class:"mr-2"},wt={__name:"new",setup(b){const D=g("任务列表"),M=g([]),j=g(1),q=g(20),N=g(0),Y={zh:"中文",en:"英文",ja:"日文",ko:"韩文",es:"西班牙文",fr:"法文",de:"德文"},X=g([]),V=g([]),h=g(!1),I=g(!1),k=g(!1),P=g(null),$=g(!1),E=g(!1),T=g(!1),B=g(null),G=g({top:0,left:0,width:0,height:0}),r=g({type:"",provider:"",language:"",text:"",mentions:"",tags:"",payload:"",selected_accounts:[],prompt:"",twitter_reply_to_tweet_id:"",facebook_page_id:"",facebook_comment_id:""});async function Z(o){var e,t;try{const i=await Me(String(o.id),{});m.success("任务执行成功",{description:`任务已开始执行，成功${i.summary.ok}条，失败${i.summary.error}条`}),L()}catch(i){console.error("Failed to run task:",i),m.error("执行失败",{description:((t=(e=i.response)==null?void 0:e.data)==null?void 0:t.message)||i.message||"执行任务时发生错误"})}finally{}}async function ee(o){try{const e=await Pe(o.id);k.value=!0,P.value=o.id;let t="";Array.isArray(e.tags)?t=e.tags.join(","):t=e.tags||"";let i=[];Array.isArray(e.selected_accounts)?i=e.selected_accounts.map(u=>({id:String(u.id||u),name:u.name||String(u.id||u)})):typeof e.selected_accounts=="object"&&e.selected_accounts!==null?i=Object.keys(e.selected_accounts).map(u=>({id:String(u),name:e.selected_accounts[u]||String(u)})):typeof e.selected_accounts=="string"&&(i=e.selected_accounts.split(",").map(u=>({id:String(u.trim()),name:String(u.trim())}))),r.value={type:e.type||"",provider:e.provider||"",language:e.language||"",text:e.text||"",mentions:e.mentions||"",tags:t,payload:e.payload||"",selected_accounts:i,prompt:e.prompt||"",twitter_reply_to_tweet_id:e.twitter_reply_to_tweet_id||"",facebook_page_id:e.facebook_page_id||"",facebook_comment_id:e.facebook_comment_id||""},I.value=!0}catch(e){console.error("获取详情失败:",e),m.error("获取详情失败")}}function te(o,e){B.value=o;const t=e.target.getBoundingClientRect();G.value={top:t.top,left:t.left,width:t.width,height:t.height,bottom:t.bottom},E.value=!0}async function ae(){var o,e;if(B.value){T.value=!0;try{await Fe(B.value.id),m.success("删除成功"),await L(),H()}catch(t){console.error("删除失败:",t),m.error("删除失败",{description:((e=(o=t.response)==null?void 0:o.data)==null?void 0:e.message)||t.message||"删除任务时发生错误"})}finally{T.value=!1}}}function H(){E.value=!1,B.value=null,T.value=!1}function re(){k.value=!1,P.value=null,r.value={type:"",provider:"",language:"",text:"",mentions:"",tags:"",payload:"",selected_accounts:[],prompt:"",twitter_reply_to_tweet_id:"",facebook_page_id:"",facebook_comment_id:""},I.value=!0}function R(){I.value=!1,k.value=!1,P.value=null,r.value={type:"",provider:"",language:"",text:"",mentions:"",tags:"",payload:"",selected_accounts:[],prompt:"",twitter_reply_to_tweet_id:"",facebook_page_id:"",facebook_comment_id:""}}async function oe(){var o,e;if(!$.value){if(!r.value.type||r.value.type.trim()===""){m.error("请选择类型",{description:"类型不能为空"});return}if(!r.value.provider||r.value.provider.trim()===""){m.error("请选择平台",{description:"平台不能为空"});return}if(!r.value.language||r.value.language.trim()===""){m.error("请选择语言",{description:"语言不能为空"});return}if(!r.value.text||r.value.text.trim()===""){m.error("请填写文本内容",{description:"文本内容不能为空"});return}if(!r.value.selected_accounts||r.value.selected_accounts.length===0){m.error("请选择机器人",{description:"机器人不能为空"});return}$.value=!0;try{let t=[];r.value.tags&&r.value.tags.trim()!==""&&(t=r.value.tags.split(",").map(_=>_.trim()).filter(_=>_!==""));let i=[];Array.isArray(r.value.selected_accounts)&&(i=r.value.selected_accounts.map(_=>({id:String(_.id),name:_.name||String(_.id)})));const u={type:r.value.type,provider:r.value.provider,language:r.value.language,text:r.value.text.trim(),mentions:r.value.mentions||"",tags:t,payload:"",selected_accounts:i,prompt:r.value.prompt||"",twitter_reply_to_tweet_id:"",facebook_page_id:"",facebook_comment_id:""};k.value?(await Be(P.value,u),m.success("任务更新成功")):(await Te(u),m.success("任务新增成功")),R(),await L()}catch(t){console.error(k.value?"更新失败:":"新增失败:",t),m.error(k.value?"更新失败":"新增失败",{description:((e=(o=t.response)==null?void 0:o.data)==null?void 0:e.message)||t.message||(k.value?"更新任务时发生错误":"新增任务时发生错误")})}finally{$.value=!1}}}const se=async()=>{try{const o=await ze({page:1});V.value=o.results||o.data||[]}catch(o){console.error("获取机器人列表失败:",o)}},le=async()=>{try{const o=await Ue({page:1});X.value=o.results||o.data||[]}catch(o){console.error("获取提示词列表失败:",o)}},L=async()=>{var o,e;console.log(111);try{let t=await Ie({page:j.value,page_size:q.value});M.value=t.results||t.data||[],N.value=t.count||t.total||0}catch(t){console.error("获取列表失败:",t),m.error("获取列表失败",{description:((e=(o=t.response)==null?void 0:o.data)==null?void 0:e.message)||t.message||"获取任务列表时发生错误"})}};function ne(){h.value=!h.value}function de(o){const e=String(o),t=V.value.find(u=>String(u.id)===e),i=r.value.selected_accounts.findIndex(u=>String(u.id)===e);i>-1?r.value.selected_accounts.splice(i,1):r.value.selected_accounts.push({id:e,name:(t==null?void 0:t.name)||(t==null?void 0:t.provider)})}function ie(o){const e=String(o),t=r.value.selected_accounts.findIndex(i=>String(i.id)===e);t>-1&&r.value.selected_accounts.splice(t,1)}function ue(o){if(typeof o=="object"&&o.id)return o.name||`机器人${o.id}`;const e=String(o),t=V.value.find(i=>String(i.id)===e);return t?t.name||t.provider:`机器人${e}`}ce(j,o=>{console.log("Page changed to:",o),L()});function J(o){h.value&&!o.target.closest(".account-dropdown")&&(h.value=!1)}return pe(()=>{L(),se(),le(),document.addEventListener("click",J)}),ge(()=>{document.removeEventListener("click",J)}),(o,e)=>(c(),S(me,null,{default:s(()=>[l(be,{pageTitle:D.value},null,8,["pageTitle"]),a("div",Ne,[l(ve,null,{default:s(()=>[a("div",Ee,[e[12]||(e[12]=a("div",null,null,-1)),a("div",Re,[l(z,{size:"sm",onClick:re},{default:s(()=>[...e[11]||(e[11]=[d("新增",-1)])]),_:1})])]),l(n(ye),{class:"[&_td]:py-3.5 [&_th]:py-3.5"},{default:s(()=>[l(n(xe),null,{default:s(()=>[l(n(O),null,{default:s(()=>[l(n(y),{class:"whitespace-nowrap"},{default:s(()=>[...e[13]||(e[13]=[d("序号",-1)])]),_:1}),l(n(y),{class:"whitespace-nowrap"},{default:s(()=>[...e[14]||(e[14]=[d("类型",-1)])]),_:1}),l(n(y),{class:"whitespace-nowrap"},{default:s(()=>[...e[15]||(e[15]=[d("平台",-1)])]),_:1}),l(n(y),{class:"whitespace-nowrap"},{default:s(()=>[...e[16]||(e[16]=[d("语言",-1)])]),_:1}),l(n(y),{class:"whitespace-nowrap"},{default:s(()=>[...e[17]||(e[17]=[d("文本内容",-1)])]),_:1}),l(n(y),{class:"whitespace-nowrap"},{default:s(()=>[...e[18]||(e[18]=[d("提及",-1)])]),_:1}),l(n(y),{class:"whitespace-nowrap"},{default:s(()=>[...e[19]||(e[19]=[d("话题",-1)])]),_:1}),l(n(y),{class:"whitespace-nowrap"},{default:s(()=>[...e[20]||(e[20]=[d("机器人",-1)])]),_:1}),l(n(y),{class:"whitespace-nowrap"},{default:s(()=>[...e[21]||(e[21]=[d("提示词",-1)])]),_:1}),l(n(y),{class:"whitespace-nowrap"},{default:s(()=>[...e[22]||(e[22]=[d("创建时间",-1)])]),_:1}),l(n(y),{class:"whitespace-nowrap text-right"},{default:s(()=>[...e[23]||(e[23]=[d("操作",-1)])]),_:1})]),_:1})]),_:1}),l(n(ke),null,{default:s(()=>[M.value.length?(c(!0),p(A,{key:0},U(M.value,(t,i)=>(c(),S(n(O),{key:t.id},{default:s(()=>[l(n(v),{class:"whitespace-nowrap"},{default:s(()=>[d(f(i+1),1)]),_:2},1024),l(n(v),{class:"whitespace-nowrap"},{default:s(()=>[d(f(t.type=="post"?"发帖":"回复评论"),1)]),_:2},1024),l(n(v),{class:"whitespace-nowrap"},{default:s(()=>[d(f(t.provider||"-"),1)]),_:2},1024),l(n(v),{class:"whitespace-nowrap"},{default:s(()=>[d(f(Y[t.language]||"-"),1)]),_:2},1024),l(n(v),{class:"max-w-[200px] truncate",title:t.text},{default:s(()=>[d(f(t.text||"-"),1)]),_:2},1032,["title"]),l(n(v),{class:"max-w-[200px] truncate",title:t.mentions},{default:s(()=>[d(f(t.mentions||"-"),1)]),_:2},1032,["title"]),l(n(v),{class:"max-w-[200px] truncate",title:t.tags},{default:s(()=>[d(f(t.tags.map(u=>u).join(",")||"-"),1)]),_:2},1032,["title"]),l(n(v),{class:"max-w-[200px] truncate",title:t.selected_accounts.map(u=>u.name).join(",")},{default:s(()=>[d(f(t.selected_accounts.map(u=>u.name).join(",")||"-"),1)]),_:2},1032,["title"]),l(n(v),{class:"max-w-[200px] truncate",title:t.prompt},{default:s(()=>[d(f(t.prompt_name||"-"),1)]),_:2},1032,["title"]),l(n(v),{class:"whitespace-nowrap"},{default:s(()=>[d(f(n(we)(t.created_at)),1)]),_:2},1024),l(n(v),{class:"text-right whitespace-nowrap"},{default:s(()=>[a("div",Oe,[l(z,{size:"sm",variant:"outline",onClick:u=>Z(t)},{default:s(()=>[...e[24]||(e[24]=[d("立即执行",-1)])]),_:1},8,["onClick"]),l(z,{size:"sm",variant:"outline",onClick:u=>ee(t)},{default:s(()=>[...e[25]||(e[25]=[d("编辑",-1)])]),_:1},8,["onClick"]),a("button",{class:"inline-flex items-center justify-center font-medium gap-2 rounded-lg transition px-4 py-3 text-sm bg-white text-gray-700 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-400 dark:ring-gray-700 dark:hover:bg-white/[0.03] dark:hover:text-gray-300 text-rose-600 ring-rose-200 hover:bg-rose-50 dark:text-rose-400 dark:ring-rose-500/30",onClick:u=>te(t,u)}," 删除 ",8,qe)])]),_:2},1024)]),_:2},1024))),128)):(c(),S(n(O),{key:1},{default:s(()=>[l(n(v),{colspan:15,class:"py-16 text-center text-gray-400 dark:text-white/40"},{default:s(()=>[...e[26]||(e[26]=[d("暂无数据",-1)])]),_:1})]),_:1}))]),_:1})]),_:1}),N.value>0?(c(),p("div",Xe,[l(n(_e),{page:j.value,"onUpdate:page":e[0]||(e[0]=t=>j.value=t),total:N.value,"items-per-page":q.value,"sibling-count":1},{default:s(()=>[l(n(he),null,{default:s(({items:t})=>[l(n($e)),(c(!0),p(A,null,U(t,(i,u)=>(c(),p(A,{key:u},[i.type==="page"?(c(),S(n(Se),{key:0,value:i.value,"is-active":i.value===j.value},{default:s(()=>[d(f(i.value),1)]),_:2},1032,["value","is-active"])):(c(),S(n(Ae),{key:1,index:u},null,8,["index"]))],64))),128)),l(n(Ce))]),_:1})]),_:1},8,["page","total","items-per-page"])])):w("",!0)]),_:1}),I.value?(c(),S(De,{key:0,fullScreenBackdrop:!0,onClose:R},{body:s(()=>[a("div",Ge,[a("h3",He,f(k.value?"编辑任务":"新增任务"),1),a("form",{onSubmit:K(oe,["prevent"]),class:"space-y-4"},[a("div",Je,[a("div",null,[e[28]||(e[28]=a("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},[d("类型"),a("span",{class:"text-error-500"},"*")],-1)),x(a("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>r.value.type=t),class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},[...e[27]||(e[27]=[a("option",{value:""},"请选择类型",-1),a("option",{value:"post"},"发帖",-1),a("option",{value:"reply_comment"},"回复评论",-1)])],512),[[F,r.value.type]])]),a("div",null,[e[30]||(e[30]=a("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},[d("平台"),a("span",{class:"text-error-500"},"*")],-1)),x(a("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>r.value.provider=t),class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},[...e[29]||(e[29]=[a("option",{value:""},"请选择平台",-1),a("option",{value:"twitter"},"Twitter",-1),a("option",{value:"facebook"},"Facebook",-1)])],512),[[F,r.value.provider]])])]),a("div",Ke,[a("div",null,[e[32]||(e[32]=a("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},[d("语言"),a("span",{class:"text-error-500"},"*")],-1)),x(a("select",{"onUpdate:modelValue":e[3]||(e[3]=t=>r.value.language=t),class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},[...e[31]||(e[31]=[a("option",{value:""},"请选择语言",-1),a("option",{value:"zh"},"中文",-1),a("option",{value:"en"},"英文",-1),a("option",{value:"ja"},"日文",-1),a("option",{value:"ko"},"韩文",-1),a("option",{value:"es"},"西班牙文",-1),a("option",{value:"fr"},"法文",-1),a("option",{value:"de"},"德文",-1)])],512),[[F,r.value.language]])]),a("div",null,[e[33]||(e[33]=a("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},[d("文本内容"),a("span",{class:"text-error-500"},"*")],-1)),x(a("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>r.value.text=t),placeholder:"请输入文本内容",class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[C,r.value.text]])])]),a("div",null,[e[34]||(e[34]=a("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},[d("提及账号"),a("span",{class:"text-error-500"},"*")],-1)),x(a("input",{"onUpdate:modelValue":e[5]||(e[5]=t=>r.value.mentions=t),type:"text",placeholder:"多个提及账号使用逗号隔开 如：user1，user2",class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[C,r.value.mentions]])]),a("div",null,[e[35]||(e[35]=a("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},[d("话题"),a("span",{class:"text-error-500"},"*")],-1)),x(a("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>r.value.tags=t),type:"text",placeholder:"多个话题使用逗号隔开 如：品牌牛奶，优质水管",class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[C,r.value.tags]])]),a("div",null,[e[38]||(e[38]=a("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},[d("机器人"),a("span",{class:"text-error-500"},"*")],-1)),a("div",Qe,[a("div",{onClick:ne,class:"dark:bg-dark-900 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs cursor-pointer focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800 min-h-[44px] flex items-center"},[r.value.selected_accounts.length===0?(c(),p("div",We,"请选择机器人")):(c(),p("div",Ye,[(c(!0),p(A,null,U(r.value.selected_accounts,t=>(c(),p("span",{key:t.id,class:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 whitespace-nowrap"},[a("span",Ze,f(ue(t)),1),a("button",{type:"button",onClick:K(i=>ie(t.id),["stop"]),class:"inline-flex items-center justify-center w-3 h-3 rounded-full text-blue-400 hover:bg-blue-200 hover:text-blue-500 dark:hover:bg-blue-800 dark:hover:text-blue-300"}," X ",8,et)]))),128))])),a("div",tt,[(c(),p("svg",{class:fe(["w-4 h-4 text-gray-400 transition-transform duration-200",{"rotate-180":h.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...e[36]||(e[36]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))])]),h.value?(c(),p("div",at,[V.value.length===0?(c(),p("div",rt," 暂无机器人选项 ")):(c(),p("div",ot,[(c(!0),p(A,null,U(V.value,t=>(c(),p("div",{key:t.id,onClick:i=>de(t.id),class:"px-4 py-2 text-sm cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-between"},[a("span",null,f(t.name||t.provider),1),r.value.selected_accounts.some(i=>String(i.id)===String(t.id))?(c(),p("div",lt,[...e[37]||(e[37]=[a("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)])])):w("",!0)],8,st))),128))]))])):w("",!0)])]),a("div",null,[e[40]||(e[40]=a("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},"提示词",-1)),x(a("select",{"onUpdate:modelValue":e[7]||(e[7]=t=>r.value.prompt=t),class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},[e[39]||(e[39]=a("option",{value:""},"请选择提示词",-1)),(c(!0),p(A,null,U(X.value,t=>(c(),p("option",{key:t.id,value:t.id},f(t.name),9,nt))),128))],512),[[F,r.value.prompt]])]),r.value.type==="reply_comment"&&r.value.provider==="twitter"?(c(),p("div",dt,[e[41]||(e[41]=a("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},"Twitter回复ID",-1)),x(a("input",{"onUpdate:modelValue":e[8]||(e[8]=t=>r.value.twitter_reply_to_tweet_id=t),type:"text",placeholder:"请输入Twitter回复ID",class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[C,r.value.twitter_reply_to_tweet_id]])])):w("",!0),r.value.type==="post"&&r.value.provider==="facebook"?(c(),p("div",it,[e[42]||(e[42]=a("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},"Facebook页面ID",-1)),x(a("input",{"onUpdate:modelValue":e[9]||(e[9]=t=>r.value.facebook_page_id=t),type:"text",placeholder:"请输入Facebook页面ID",class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[C,r.value.facebook_page_id]])])):w("",!0),r.value.type==="reply_comment"&&r.value.provider==="facebook"?(c(),p("div",ut,[e[43]||(e[43]=a("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},"Facebook评论ID",-1)),x(a("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>r.value.facebook_comment_id=t),type:"text",placeholder:"请输入Facebook评论ID",class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[C,r.value.facebook_comment_id]])])):w("",!0),a("div",ct,[l(z,{type:"button",variant:"outline",onClick:R,disabled:$.value},{default:s(()=>[...e[44]||(e[44]=[d("取消",-1)])]),_:1},8,["disabled"]),l(z,{type:"submit",disabled:$.value},{default:s(()=>[$.value?(c(),p("span",pt,"处理中...")):w("",!0),d(" "+f(k.value?"更新":"保存"),1)]),_:1},8,["disabled"])])],32)])]),_:1})):w("",!0),l(je,{isOpen:E.value,title:"删除",description:"确定要删除吗？此操作不可撤销。",isLoading:T.value,triggerRect:G.value,onClose:H,onConfirm:ae},null,8,["isOpen","isLoading","triggerRect"])])]),_:1}))}};export{wt as default};
